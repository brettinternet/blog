<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.17.2"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><title data-react-helmet="true">Play and Visualize Spotify Music in Terminal with Mopidy and Ncmpcpp | brettinternet</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Patua+One|Roboto+Slab:300,400,700" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="Like Winamp, ncmpcpp is timeless classic for music applications. As I’ve picked up my work and slowly moved into the command-line space, I’ve found ncmpcpp very…"/><meta data-react-helmet="true" property="og:title" content="Play and Visualize Spotify Music in Terminal with Mopidy and Ncmpcpp"/><meta data-react-helmet="true" property="og:description" content="Like Winamp, ncmpcpp is timeless classic for music applications. As I’ve picked up my work and slowly moved into the command-line space, I’ve found ncmpcpp very…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@brettinternet"/><meta data-react-helmet="true" name="twitter:title" content="Play and Visualize Spotify Music in Terminal with Mopidy and Ncmpcpp"/><meta data-react-helmet="true" name="twitter:description" content="Like Winamp, ncmpcpp is timeless classic for music applications. As I’ve picked up my work and slowly moved into the command-line space, I’ve found ncmpcpp very…"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=7e08a4376b86fb1ee15c5bf183eba8ba"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#1890ff"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=7e08a4376b86fb1ee15c5bf183eba8ba"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=7e08a4376b86fb1ee15c5bf183eba8ba"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=7e08a4376b86fb1ee15c5bf183eba8ba"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=7e08a4376b86fb1ee15c5bf183eba8ba"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=7e08a4376b86fb1ee15c5bf183eba8ba"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=7e08a4376b86fb1ee15c5bf183eba8ba"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=7e08a4376b86fb1ee15c5bf183eba8ba"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=7e08a4376b86fb1ee15c5bf183eba8ba"/><style data-styled="iJmoSp  flgYsU ccmHni dhXsjH kPgcMg geWuvH TjvrI fOdLFp eltwKW bJXBpy bQrsHF iKYjJg SNaTw MKAUt dELfCF fZtPnp bgSfeZ jSIaxk iZSYMO cDfSPh cvNXfU bxRFYx cHsvjs hogzoS juEhny dTKvFg huXta hKgfyM fobVEQ jmuvhl khsiJC enCAgL ikzXes" data-styled-version="4.4.0">
/* sc-component-id: Header___StyledMenuSvg-sc-1efv2zg-0 */
.TjvrI{margin-right:5px;}
/* sc-component-id: Header__StyledHeader-sc-1efv2zg-1 */
.flgYsU{font-family:"Patua One",cursive;font-style:normal;height:60px;}
/* sc-component-id: Header__Nav-sc-1efv2zg-2 */
.ccmHni{max-width:768px;padding-left:15px;padding-right:15px;margin-left:auto;margin-right:auto;max-width:576px;padding-top:15px;padding-bottom:15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;} @media (min-width:36em){.ccmHni{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;}}
/* sc-component-id: Header__Brand-sc-1efv2zg-3 */
.dhXsjH{display:inline-block;margin-right:auto;font-size:1.25rem;z-index:20;} @media (min-width:36em){.dhXsjH{margin-right:1rem;}}
/* sc-component-id: Header__BrandA-sc-1efv2zg-4 */
.kPgcMg{-webkit-text-decoration:none;text-decoration:none;padding:0.25rem 0;color:#272727;padding:0.25rem 0.5rem;border-radius:4px;-webkit-transition:background-color 200ms,color 200ms;transition:background-color 200ms,color 200ms;margin-left:-0.5rem;} .kPgcMg:hover{-webkit-text-decoration:none;text-decoration:none;color:#272727;background-color:#daedff;} .kPgcMg:active{background-color:#74bcff;} .kPgcMg > span{color:inherit;}
/* sc-component-id: Header__Menu-sc-1efv2zg-5 */
.fOdLFp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;padding:0;margin:0;-webkit-transform:scale(0.98);-ms-transform:scale(0.98);transform:scale(0.98);-webkit-transition:visibility 0.2s ease-out,opacity 0.2s ease-out,-webkit-transform 0.2s ease-out,background 400ms ease-out;-webkit-transition:visibility 0.2s ease-out,opacity 0.2s ease-out,transform 0.2s ease-out,background 400ms ease-out;transition:visibility 0.2s ease-out,opacity 0.2s ease-out,transform 0.2s ease-out,background 400ms ease-out;opacity:0;top:0;right:0;position:fixed;left:0;bottom:0;visibility:hidden;background:#ffffff;z-index:15;} @media (min-width:36em){.fOdLFp{-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);visibility:visible;position:static;background:none;}}
/* sc-component-id: Header__Ul-sc-1efv2zg-6 */
.bJXBpy{list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;padding:0;text-align:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;} @media (min-width:36em){.bJXBpy{width:auto;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-right:0;margin-left:auto;}}
/* sc-component-id: Header__Li-sc-1efv2zg-7 */
@media (min-width:36em){.bQrsHF{margin-left:0.5rem;}}
/* sc-component-id: Header__StyledA-sc-1efv2zg-8 */
.iKYjJg{cursor:pointer;display:block;-webkit-text-decoration:none;text-decoration:none;color:#272727;-webkit-transition:background-color 200ms;transition:background-color 200ms;padding:1rem 0.5rem;background-color:#eaeaea;} .iKYjJg:hover{-webkit-text-decoration:none;text-decoration:none;color:#272727;background-color:#b9ddff;} .iKYjJg:active{background-color:#74bcff;} @media (min-width:36em){.iKYjJg{display:inline;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:4px;}}.SNaTw{cursor:pointer;display:block;-webkit-text-decoration:none;text-decoration:none;color:#272727;-webkit-transition:background-color 200ms;transition:background-color 200ms;padding:1rem 0.5rem;} .SNaTw:hover{-webkit-text-decoration:none;text-decoration:none;color:#272727;background-color:#b9ddff;} .SNaTw:active{background-color:#74bcff;} @media (min-width:36em){.SNaTw{display:inline;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:4px;}}
/* sc-component-id: Header__MobileMenuButton-sc-1efv2zg-10 */
.geWuvH{color:#1d1d1d;background-color:transparent;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-width:0;cursor:pointer;font-size:0.8rem;} .geWuvH > svg{color:inherit;fill:currentColor;} @media (min-width:36em){.geWuvH{display:none;}}
/* sc-component-id: Header__MobileCloseButton-sc-1efv2zg-11 */
.eltwKW{position:absolute;top:0;right:0;margin:15px;color:#1d1d1d;background-color:transparent;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-width:0;cursor:pointer;font-size:0.8rem;} .eltwKW > svg{color:inherit;fill:currentColor;} @media (min-width:36em){.eltwKW{display:none;}}
/* sc-component-id: Link__StyledLink-sc-1oy85wp-0 */
.bxRFYx{-webkit-text-decoration:none;text-decoration:none;color:#1890ff;-webkit-transition:color 200ms;transition:color 200ms;} .bxRFYx:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#1581e6;}
/* sc-component-id: Link__StyledAnchor-sc-1oy85wp-1 */
.juEhny{-webkit-text-decoration:none;text-decoration:none;color:#1890ff;-webkit-transition:color 200ms;transition:color 200ms;} .juEhny:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#1581e6;}
/* sc-component-id: Footer__Heart-sc-1xx61xs-0 */
.ikzXes{color:red;}
/* sc-component-id: Footer__StyledFooter-sc-1xx61xs-1 */
.enCAgL{height:60px;color:#858585;text-align:center;font-size:10px;width:100%;line-height:59px;}
/* sc-component-id: Layout__StyledApp-sc-18jdzo2-0 */
.iJmoSp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}
/* sc-component-id: sc-global-738968067 */
{/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */} html,body{height:100%;} body{margin:0;padding:0;background:#ffffff;color:#272727;-webkit-transition:all 0s ease-out;transition:all 0s ease-out;overflow-y:visible;} a{-webkit-text-decoration:none;text-decoration:none;color:#1890ff;-webkit-transition:color 200ms;transition:color 200ms;} a:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#1581e6;} html{line-height:1.15;-webkit-text-size-adjust:100%;} body{margin:0;} main{display:block;} h1{font-size:2em;margin:0.67em 0;} hr{box-sizing:content-box;height:0;overflow:visible;} pre{font-family:monospace,monospace;font-size:1em;} a{background-color:transparent;} abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;} b,strong{font-weight:bolder;} code,kbd,samp{font-family:monospace,monospace;font-size:1em;} small{font-size:80%;} sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;} sub{bottom:-0.25em;} sup{top:-0.5em;} img{border-style:none;} button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;} button,input{overflow:visible;} button,select{text-transform:none;} button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;} button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;} button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;} fieldset{padding:0.35em 0.75em 0.625em;} legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;} progress{vertical-align:baseline;} textarea{overflow:auto;} [type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;} [type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;} [type="search"]{-webkit-appearance:textfield;outline-offset:-2px;} [type="search"]::-webkit-search-decoration{-webkit-appearance:none;} ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;} details{display:block;} summary{display:list-item;} template{display:none;} [hidden]{display:none;} code[class*="language-"],pre[class*="language-"]{color:#272727;font-family:"Consolas","Bitstream Vera Sans Mono","Courier New",Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;border-radius:4px;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;} pre[class*="language-"]{padding:1em;margin:0.5em 0;overflow:auto;background-color:#f8f8f8;} :not(pre) > code[class*="language-"]{padding:0.2em;padding-top:1px;padding-bottom:1px;background-color:#f8f8f8;} .token.comment,.token.prolog,.token.doctype,.token.cdata{color:#c2c2c2;font-style:italic;} .token.namespace{opacity:0.7;} .token.string{color:#107c10;} .token.punctuation,.token.operator{color:#272727;} .token.url,.token.symbol,.token.number,.token.boolean,.token.variable,.token.constant,.token.inserted{color:#a80000;} .token.atrule,.token.keyword,.token.attr-value,.language-autohotkey .token.selector,.language-json .token.boolean,.language-json .token.number,code[class*="language-css"]{color:#1581e6;} .token.function{color:#272727;} .token.deleted,.language-autohotkey .token.tag{color:#9a050f;} .token.selector,.language-autohotkey .token.keyword{color:#00009f;} .token.important,.token.bold{font-weight:bold;} .token.italic{font-style:italic;} .token.class-name,.language-json .token.property{color:#2b91af;} .token.tag,.token.selector{color:#800000;} .token.attr-name,.token.property,.token.regex,.token.entity{color:#ff0000;} .token.directive.tag .tag{background-color:#eaeaea;color:#272727;} .line-numbers .line-numbers-rows{border-right-color:#eaeaea;} .line-numbers-rows > span:before{color:#c8c8c8;} .line-highlight{background:rgba(193,222,241,0.2);background:-webkit-linear-gradient( left,rgba(193,222,241,0.2) 70%,rgba(221,222,241,0) );background:linear-gradient( to right,rgba(193,222,241,0.2) 70%,rgba(221,222,241,0) );} html{box-sizing:border-box;} *,*:after,*:before{box-sizing:inherit;} body{font-family:Helvetica,Verdana,Geneva,Tahoma,sans-serif;font-weight:400;font-size:18px;} h1,h2,h3,h4,h5,h6{font-family:"Patua One",cursive;font-style:normal;} a,a:hover,a:visited{-webkit-text-decoration:none;text-decoration:none;} blockquote{padding:1rem;border:5px solid #f8f8f8;font-size:80%;font-family:Helvetica,Verdana,Geneva,Tahoma,sans-serif;font-weight:400;line-height:1.4;margin:1rem 0;} pre code{background-color:transparent;} hr{border:none;border-bottom:1px solid #eaeaea;margin-block-start:2em;margin-block-end:2em;}
/* sc-component-id: Layout__Main-sc-18jdzo2-1 */
.MKAUt{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:block;}
/* sc-component-id: Section-i6d8xs-0 */
.dELfCF{padding-top:1em;padding-bottom:1em;max-width:768px;padding-left:15px;padding-right:15px;margin-left:auto;margin-right:auto;max-width:576px;}.fZtPnp{padding-top:1em;padding-bottom:1em;max-width:768px;padding-left:15px;padding-right:15px;margin-left:auto;margin-right:auto;}
/* sc-component-id: Tag__StyledTag-sc-1f7ugiv-0 */
.bgSfeZ{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;border:none;border-radius:3px;box-shadow:none;background-color:inherit;min-width:20px;max-width:100%;min-height:20px;padding:2px 6px;line-height:16px;color:#858585;white-space:nowrap;margin-right:1rem;margin-bottom:0px;font-size:11px;-webkit-transition:background-color 150ms,color 150ms;transition:background-color 150ms,color 150ms;} .bgSfeZ > span{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;}.jSIaxk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;border:none;border-radius:3px;box-shadow:none;background-color:#0d508f;min-width:20px;max-width:100%;min-height:20px;padding:2px 6px;line-height:16px;color:#ffffff;white-space:nowrap;margin-right:0.5rem;margin-bottom:0px;font-size:11px;-webkit-transition:background-color 150ms,color 150ms;transition:background-color 150ms,color 150ms;} .jSIaxk > span{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;} .jSIaxk:hover,.jSIaxk:active{background-color:#116dc2;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: NavButton__Arrow-sc-1fj35xs-0 */
.khsiJC{-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: NavButton__ButtonText-sc-1fj35xs-1 */
.jmuvhl{margin:0 0.25em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:250px;}
/* sc-component-id: NavButton__Nav-sc-1fj35xs-2 */
.hKgfyM{font-size:13px;text-align:center;list-style:none;padding:0;margin:0;}
/* sc-component-id: NavButton___StyledStyledA-sc-1fj35xs-4 */
.fobVEQ{padding:0.25em;-webkit-text-decoration:none;text-decoration:none;font-size:15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;font-size:13px;} .fobVEQ:hover{-webkit-text-decoration:none;text-decoration:none;} .fobVEQ:hover .NavButton__ButtonText-sc-1fj35xs-1{margin:0 0.75em;-webkit-transition:margin 0.2s;transition:margin 0.2s;-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: blog-post___StyledA-sc-12c95kz-0 */
.huXta svg{vertical-align:top;}
/* sc-component-id: blog-post__Title-sc-12c95kz-1 */
.iZSYMO{margin:0.25em 0 0.5em 0;}
/* sc-component-id: blog-post__Body-sc-12c95kz-2 */
.cDfSPh{font-family:"Roboto Slab",serif;font-weight:300;font-style:normal;line-height:1.6;} .cDfSPh a{color:#1890ff;} .cDfSPh a:hover{-webkit-text-decoration:underline;text-decoration:underline;} .cDfSPh img{max-width:125%;} .cDfSPh h1,.cDfSPh h2,.cDfSPh h3,.cDfSPh h4,.cDfSPh h5,.cDfSPh h6{margin-top:1.5em;margin-bottom:0.5em;} .cDfSPh figcaption{font-size:0.7em;text-align:center;margin:auto;font-style:italic;}
/* sc-component-id: blog-post__Tags-sc-12c95kz-3 */
.cvNXfU a:hover{-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: blog-post__PostActions-sc-12c95kz-4 */
.cHsvjs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:3em;font-size:13px;} .cHsvjs a svg{fill:currentColor;} .cHsvjs > ul{display:none;} @media (min-width:29.375em){.cHsvjs > ul{display:block;}}
/* sc-component-id: blog-post__Dot-sc-12c95kz-5 */
.dTKvFg{font-family:monospace;margin:0 0.5em;}
/* sc-component-id: blog-post___StyledDot-sc-12c95kz-6 */
.hogzoS{font-family:monospace;margin:0 0.5em;margin-left:0;}</style><link rel="alternate" type="application/rss+xml" title="Blog RSS Feed" href="/rss.xml"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-1b7af3d48781b46277af.js"/><link as="script" rel="preload" href="/app-40f8261c8cb4818db70d.js"/><link as="script" rel="preload" href="/commons-65fad84db7d2dbc3c88d.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-0968fb82300499c50a22.js"/><link as="fetch" rel="preload" href="/page-data/blog/play-and-visual-spotify-music-in-terminal/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="Layout__StyledApp-sc-18jdzo2-0 iJmoSp"><header class="Header__StyledHeader-sc-1efv2zg-1 flgYsU"><nav class="Header__Nav-sc-1efv2zg-2 ccmHni"><div class="Header__Brand-sc-1efv2zg-3 dhXsjH"><a class="Header__BrandA-sc-1efv2zg-4 kPgcMg" href="/">brettinternet</a></div><button class="Header__MobileMenuButton-sc-1efv2zg-10 geWuvH"><svg height="25" class="Header___StyledMenuSvg-sc-1efv2zg-0 TjvrI" viewBox="0 0 24 24" width="24px"><title>Menu</title><g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><path d="M3 12h18M3 6h18M3 18h18"></path></g></svg><span>Menu</span></button><menu class="Header__Menu-sc-1efv2zg-5 fOdLFp"><button class="Header__MobileCloseButton-sc-1efv2zg-11 eltwKW"><svg height="25" viewBox="0 0 24 24" width="24px"><title>Dismiss</title><g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><path d="M18 6L6 18M6 6l12 12"></path></g></svg><span>Close</span></button><ul class="Header__Ul-sc-1efv2zg-6 bJXBpy"><li class="Header__Li-sc-1efv2zg-7 bQrsHF"><a active="active" class="Header__StyledA-sc-1efv2zg-8 iKYjJg" href="/blog/">blog</a></li><li class="Header__Li-sc-1efv2zg-7 bQrsHF"><a class="Header__StyledA-sc-1efv2zg-8 SNaTw" href="/projects/">projects</a></li></ul></menu></nav></header><main class="Layout__Main-sc-18jdzo2-1 MKAUt"><section class="Section-i6d8xs-0 dELfCF"><div><span class="Tag__StyledTag-sc-1f7ugiv-0 bgSfeZ" style="padding-left:0"><span>March 02, 2017</span></span></div><h1 class="blog-post__Title-sc-12c95kz-1 iZSYMO">Play and Visualize Spotify Music in Terminal with Mopidy and Ncmpcpp</h1><div class="blog-post__Body-sc-12c95kz-2 cDfSPh"><div><p>Like Winamp, ncmpcpp is timeless classic for music applications. As I’ve picked up my work and slowly moved into the command-line space, I’ve found ncmpcpp very easy to use. <a href="https://wiki.archlinux.org/index.php/ncmpcpp">Ncmpcpp</a> is an mpd client and coupled with Mopidy I can browse Spotify playlists, search for artists, and play top tracks.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">brew install ncmpcpp</code></pre></div>
<p>My latest endeavor with managing my music on the CLI has been to use a visualizer like <a href="https://github.com/dpayne/cli-visualizer">cli-visualizer</a> or even ncmpcpp’s native visualization. It’s a fairly simple setup that’s been around for a while with a standard mpd and mpd client like ncmpcpp. However, to use an mpd client with a streaming service like Spotify or Soundcloud, you have to use a service like Mopidy.</p>
<h2>Without Spotify</h2>
<p>If you don’t stream music, you’re able to stick with a normal <a href="https://wiki.archlinux.org/index.php/Music_Player_Daemon">mpd</a> setup.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">brew install mpd</code></pre></div>
<p>Using a Music Player Daemon to serve audio has been around for a while, so I won’t get into this. The final config should look something like <a href="https://github.com/brettinternet/dotfiles/blob/master/.mpd/mpd.conf">this</a>. Make sure you setup the entire config correctly, however, I’ll highlight a key element here: the two audio outputs. The visualizers both in ncmpcpp and in cli-visualizer need the <code class="language-text">fifo</code> audio output to work:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">audio_output <span class="token punctuation">{</span>
  <span class="token builtin class-name">type</span>                  <span class="token string">"fifo"</span>
  name                  <span class="token string">"my_fifo"</span>
  path                  <span class="token string">"/tmp/mpd.fifo"</span>
  <span class="token function">format</span>                <span class="token string">"44100:16:2"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>And macOS uses CoreAudio for it’s sound hardware output, so we’ll add another output:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">audio_output <span class="token punctuation">{</span>
  <span class="token builtin class-name">type</span>                  <span class="token string">"osx"</span>
  name                  <span class="token string">"CoreAudio"</span>
  mixer_type            <span class="token string">"software"</span>
<span class="token punctuation">}</span></code></pre></div>
<h2>With Spotify</h2>
<p>Install <a href="https://github.com/mopidy">Mopidy</a> and Mopidy-Spotify. They have additional plugins for other streaming services.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">brew install mopidy mopidy-spotify</code></pre></div>
<p>Run <code class="language-text">mopidy</code> once so the default config files are created. On macOS the config is <code class="language-text">~/.config/mopidy/mopidy.conf</code>. Check out <a href="https://github.com/brettinternet/dotfiles/blob/master/.config/mopidy/mopidy.conf">my config here</a>. The key component I wrestled with here was the split audio output.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token punctuation">[</span>audio<span class="token punctuation">]</span>
output <span class="token operator">=</span> <span class="token function">tee</span> <span class="token assign-left variable">name</span><span class="token operator">=</span>t t. <span class="token operator">!</span> queue <span class="token operator">!</span> autoaudiosink t. <span class="token operator">!</span> queue <span class="token operator">!</span> audioresample <span class="token operator">!</span> audioconvert <span class="token operator">!</span> audio/x-raw,rate<span class="token operator">=</span><span class="token number">44100</span>,channels<span class="token operator">=</span><span class="token number">2</span>,format<span class="token operator">=</span>S16LE <span class="token operator">!</span> wavenc <span class="token operator">!</span> filesink <span class="token assign-left variable">location</span><span class="token operator">=</span>/tmp/mpd.fifo</code></pre></div>
<p>Using a tee gstreamer element, we’re able to use two audio outputs. Check out Mopidy’s documentation for <a href="https://docs.mopidy.com/en/latest/audio/">advanced audio setups</a> for more details.</p>
<p>You may have also noticed <code class="language-text">spotify_tunigo</code> in the <code class="language-text">mopidy.conf</code> below the Spotify options. <a href="https://github.com/trygveaa/mopidy-spotify-tunigo">Spotify Tunigo</a> let’s you browser Spotify’s curated playlists and checkout new music.</p>
<p>Install Spotify Tunigo:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">pip install Mopidy-Spotify-Tunigo</code></pre></div>
<p>It’s also important to note the Spotify settings in <code class="language-text">mopidy.conf</code>. Storing passwords in plaintext is bad. There’s a current work-around with python and <a href="https://github.com/mopidy/mopidy/issues/116#issuecomment-18026012">an open issue</a> to improve this. Of course, it’s always best practice to use unique passwords for everything.</p>
<p>Now let’s run <code class="language-text">mopidy</code> to make sure you don’t get any errors. When I set up mine on macOS, I had a python error about a missing libspotify framework in <code class="language-text">/Library/Frameworks</code>. If you get this error, simply run <code class="language-text">brew info libspotify</code> to see where homebrew has installed your libspotify package. Create a folder in <code class="language-text">/Library/Frameworks</code> called <code class="language-text">libspotify.framework</code>, then create a symlink in <code class="language-text">/Library/Frameworks/libspotify.framework</code> with:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">ln -s /usr/local/Cellar/libspotify/12.1.51/lib/libspotify /Library/Frameworks/libspotify.framework/libspotify</code></pre></div>
<p>Once you’ve confirmed there aren’t any runtime errors, you can now run mopidy as a service.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">brew services start mopidy</code></pre></div>
<p>Now let’s run <code class="language-text">ncmpcpp</code>. Jump to the music browser with <code class="language-text">2</code> and pick some Spotify tracks to play on the current playlist queue. <code class="language-text">8</code> will take you to ncmpcpp’s visualizer. If you’ve install <a href="https://github.com/dpayne/cli-visualizer">cli-visualizer</a> you can run it with <code class="language-text">vis</code>. Here are some of my preferred settings in <code class="language-text">./config/vis/config</code>:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">visualizer.spectrum.top.margin=0.30
audio.stereo.enabled=false</code></pre></div>
<p>Some problems I’m working through with this setup: I noticed that when I change tracks or pause/stop and then resume playback in ncmpcpp, the cli-visualizer won’t resume animation.</p>
<p>My next task is to get the cli-visualizer output to work on my mac’s desktop as an <a href="http://tracesof.net/uebersicht/">Ubersicht</a> widget.</p></div></div><div class="blog-post__Tags-sc-12c95kz-3 cvNXfU"><a href="/tags/music" class="Link__StyledLink-sc-1oy85wp-0 bxRFYx"><span class="Tag__StyledTag-sc-1f7ugiv-0 jSIaxk"><span>music</span></span></a><a href="/tags/cli" class="Link__StyledLink-sc-1oy85wp-0 bxRFYx"><span class="Tag__StyledTag-sc-1f7ugiv-0 jSIaxk"><span>cli</span></span></a></div><div class="blog-post__PostActions-sc-12c95kz-4 cHsvjs"><div><span class="blog-post__Dot-sc-12c95kz-5 blog-post___StyledDot-sc-12c95kz-6 hogzoS">&gt;</span><a href="https://github.com/brettinternet/brettinternet.github.io/edit/source/content/blog/play-and-visual-spotify-music-in-terminal/index.md" class="Link__StyledAnchor-sc-1oy85wp-1 juEhny">Edit on GitHub</a><span class="blog-post__Dot-sc-12c95kz-5 dTKvFg">·</span><a target="_blank" rel="noopener noreferrer" title="Tweet post" class="Link__StyledAnchor-sc-1oy85wp-1 juEhny blog-post___StyledA-sc-12c95kz-0 huXta" href="https://twitter.com/share?url=undefined"><svg height="12" role="img" viewBox="0 0 24 24"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"></path></svg></a></div><ul class="NavButton__Nav-sc-1fj35xs-2 hKgfyM"><li><a class="Link__StyledLink-sc-1oy85wp-0 bxRFYx NavButton__StyledA-sc-1fj35xs-3 NavButton___StyledStyledA-sc-1fj35xs-4 fobVEQ" title="Building a Hackintosh" _css="font-size: 13px;" href="/blog/build-a-hackintosh/"><div class="NavButton__ButtonText-sc-1fj35xs-1 jmuvhl">Building a Hackintosh</div><div role="img" aria-label="forward arrow" class="NavButton__Arrow-sc-1fj35xs-0 khsiJC">➡</div></a></li></ul></div></section><hr/><section class="Section-i6d8xs-0 fZtPnp"><div id="utterances"></div></section></main><footer class="Footer__StyledFooter-sc-1xx61xs-1 enCAgL"><span>Made with <span class="Footer__Heart-sc-1xx61xs-0 ikzXes">❤</span> by<!-- --> <a target="_blank" rel="noopener noreferrer" href="https://github.com/brettinternet/brettinternet.github.io" class="Link__StyledAnchor-sc-1oy85wp-1 juEhny">@brettinternet</a></span></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-91007995-3', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/play-and-visual-spotify-music-in-terminal/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-40f8261c8cb4818db70d.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-0968fb82300499c50a22.js"],"component---src-templates-tag-page-js":["/component---src-templates-tag-page-js-e9487e18ae56e8438ff0.js"],"component---src-pages-404-js":["/component---src-pages-404-js-796e856f464e9d87675a.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-a6ddd9a28c44db50e654.js"],"component---src-pages-index-js":["/component---src-pages-index-js-599f3f980b198eb1c4f9.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-a9104b0e9f84edb9d0c1.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-521c8d92b08c1158a020.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-0968fb82300499c50a22.js" async=""></script><script src="/commons-65fad84db7d2dbc3c88d.js" async=""></script><script src="/app-40f8261c8cb4818db70d.js" async=""></script><script src="/webpack-runtime-1b7af3d48781b46277af.js" async=""></script></body></html>